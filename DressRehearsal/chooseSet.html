<! DOCTYPE html>
<html>
  <head>
    <title>Rehearsal - Choose Card Set</title>
  </head>
  <body>
    <label for="cars">Choose a card set:</label>

    <select name="cars" id="data" onchange>
      <option value="volvo">Volvo</option>
      <option value="saab">Saab</option>
      <option value="mercedes">Mercedes</option>
      <option value="audi">Audi</option>
    </select>

    <button onclick="setData()">go</button>

    <button onclick="getDataFromCookie()">Hel</button>
    <script>
    function setCookie(cname, cvalue, exdays) {
  const d = new Date();
  d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
  let expires = "expires="+d.toUTCString();
  document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
}

function getCookie(cname) {
  let name = cname + "=";
  let ca = document.cookie.split(';');
  for(let i = 0; i < ca.length; i++) {
    let c = ca[i];
    while (c.charAt(0) == ' ') {
      c = c.substring(1);
    }
    if (c.indexOf(name) == 0) {
      return c.substring(name.length, c.length);
    }
  }
  return "";
}

dataSheets = ["volvo", "saab", "mercedes", "wrong"];

function getDataFromCookie(){
	let d = getCookie("dataSheet");
  window.alert(d);
  if (d==""){
  	window.alert("No data sheet selected!");
  }
	else if(dataSheets.includes(d)){
  	window.alert("Heck yeah!");
  }
  else window.alert("Uh. Something. Uh. Something went wrong. Yell at Ang at laladgdg@gmail.com to fix it, tell her 'something with the cookies pulling data'");
}  
 
 function setData(){
 let x = document.getElementById("data").value;
 setCookie("dataSheet", x, 365);
 }
 
document.addEventListener('DOMContentLoaded', function() {
  let d = getCookie("dataSheet");
  if (d == "") setCookie("dataSheet", "", 365);
  else getDataFromCookie(d);
}, false);
    </script>
  </body>
</html>
